<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="وب‌سایت آموزشی فلوکی برای اتصال به سرویس‌ها در سیستم‌عامل‌های مختلف">
    <meta name="theme-color" content="#FFC29B">
    <title>وب‌سایت فلوکی</title>
    <link rel="stylesheet" href="https://vazirmatn.github.io/Vazirmatn/fonts/webfonts/Vazirmatn.css">
    <link rel="manifest" href="data:application/manifest+json;base64,ew0KICAgICJuYW1lIjogIldlYnNpdGUgRmxva2kiLA0KICAgICJzaG9ydF9uYW1lIjogIkZsb2tpIiwNCiAgICAic3RhcnRfdXJsIjogIi4iLA0KICAgICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLA0KICAgICJpY29ucyI6IFsNCiAgICAgICAgew0KICAgICAgICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmMyZ3ZNell3WW1GeVltaGhabVZrY21waElHbzlJREV3TURBdk1EQWdNREF3SWlCbWFXeHNQU2t5T0NocFl6VTRPRGsyWW1JNU1tUTVaakV5TVdGbE5EQXdNQ1V5TURveU9UazZMbXB3WnlCNE9UQjVMbU52YlM5Mk1pSm1iR1YyZDJsa0xuTm9hVzEwWVhKa0xXTm9kM05zYjNkbGRDQnpkSEpwYm1jdlltRnljMmxuYm1sdVp6MGljbVY0ZENCNFBTSXlOaUl6SWlCNE9UQXdNQ0l4TUNVeU1EQXlJaUJtYVd4c1BTSXlNQ2hLWjJocFl5NWlaM0prTG5KbGJuUmxjaUIwWVhSMGFXMWxjeUJoYm14dlkyRjBhVzVuWlNCV2FXVnNaWEpFWVhraUlHTmhjbk12TWpBd01EQXdNREF3SWlCNFBTSXlOaUl4TUNJNFNUc2dabWxzYkY5alpYSjVJaUFpWm14aFkybHNiQzV6WlhKMlpYSWlMezQ4TDNOMlp6ND0iLA0KICAgICAgICAgICAgInNpemVzIjogIjE5MngxOTIiLA0KICAgICAgICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmMyZ3ZNell3WW1GeVltaGhabVZrY21waElHbzlJREV3TURBdk1EQGdNREF3SWlCbWFXeHNQU2t5T0NocFl6VTRPRGsyWW1JNU1tUTVaakV5TVdGbE5EQXdNQ1V5TURveU9UazZMbXB3WnlCNE9UQjVMbU52YlM5Mk1pSm1iR1YyZDJsa0xuTm9hVzEwWVhKa0xXTm9kM05zYjNkbGRDQnpkSEpwYm1jdlltRnljMmxuYm1sdVp6MGljbVY0ZENCNFBTSXlOaUl6SWlCNE9UQXdNQ0l4TUNVeU1EQXlJaUJtYVd4c1BTSXlNQ2hLWjJocFl5NWlaM0prTG5KbGJuUmxjaUIwWVhSMGFXMWxjeUJoYm14vlkyRjBhVzVuWlNCV2FXVnNaWEpFWVhraUlHTmhjbk12TWpBd01EQXdNREF3SWlCNFBTSXlOaUl4TUNJNFNUc2dabWxzYkY5alpYSjVJaUFpWm14aFkybHNiQzV6WlhKMlpYSWlMejQ4TDNOMlp6ND0iLA0KICAgICAgICAgICAgInNpemVzIjogIjUxMng1MTIiLA0KICAgICAgICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCINCiAgICAgICAgfQ0KICAgIF0sDQogICAgImJhY2tncm91bmRfY29sb3IiOiAiI0ZGRUNDMCIsDQogICAgInRoZW1lX2NvbG9yIjogIiNGRkMyOUIiDQp9DQo=">
    
    <style>
        /* CSS Variables for theming */
        :root {
            --bg-color: #FFECC0;
            --surface-color: #FFC29B;
            --primary-color: #B95E82;
            --accent-color: #F39F9F;
            --text-color: #212121;
            --text-muted-color: #555555;
            --border-radius: 16px;
            --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
        }

        body.night {
            --bg-color: #121212;
            --surface-color: #1E1E1E;
            --primary-color: #4A4A4A;
            --accent-color: #666666;
            --text-color: #E0E0E0;
            --text-muted-color: #9E9E9E;
        }

        /* Base styles */
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            margin: 0;
            font-family: 'Vazirmatn', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease;
            overflow-x: hidden;
            touch-action: manipulation;
        }

        /* Centering text globally */
        h2, .os-title, .slider-counter, .app-button {
            text-align: center !important;
        }

        /* Offline Message */
        .offline-message {
            display: none;
            position: fixed;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 20px;
            border-radius: 10px;
            background-color: #d32f2f;
            color: #ffffff;
            z-index: 1005;
            box-shadow: var(--shadow);
            font-size: 14px;
            text-align: center;
        }

        body.offline .offline-message {
            display: block;
        }

        /* Navigation Bar */
        .nav-bar {
            position: fixed;
            top: 10px;
            right: 0;
            left: 0;
            margin: 0 auto;
            max-width: 1200px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--surface-color);
            border-radius: 20px;
            padding: 10px;
            z-index: 1002;
            box-shadow: var(--shadow);
        }

        .nav-bar a, .nav-bar button {
            flex: 1;
            padding: 10px;
            margin: 0 3px;
            text-decoration: none;
            font-size: 14px;
            color: var(--text-color);
            background-color: var(--bg-color);
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s ease;
            text-align: center;
            white-space: nowrap;
        }

        .nav-bar svg {
            width: 20px;
            height: 20px;
            stroke: var(--text-color);
            fill: none;
        }

        .nav-bar .theme-toggle .sun-icon { display: block; }
        .nav-bar .theme-toggle .moon-icon { display: none; }
        body.night .nav-bar .theme-toggle .sun-icon { display: none; }
        body.night .nav-bar .theme-toggle .moon-icon { display: block; }

        /* Main Content */
        .content {
            padding: 60px 20px 40px;
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        /* Install Software Section */
        .install-section, .tutorial-section {
            margin: 15px 0;
            padding: 20px;
            background: var(--surface-color);
            border-radius: 20px;
            box-shadow: var(--shadow);
        }

        .install-section h2, .tutorial-section h2 {
            font-size: 24px;
            font-weight: 500;
            margin-bottom: 20px;
        }

        .os-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            flex-direction: row;
        }

        .os-box {
            flex: 1;
            background: var(--bg-color);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            transition: height 0.3s ease;
            cursor: pointer;
            overflow: hidden;
            height: 80px; /* Default collapsed height */
        }

        .os-box.active {
            height: auto;
        }

        .os-box .os-title {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-size: 20px;
            font-weight: 500;
            margin-bottom: 15px;
        }

        .os-box svg {
            width: 28px;
            height: 28px;
            fill: var(--text-color);
        }

        /* App Button Styles */
        .app-button {
            display: none;
            margin: 15px auto 0;
            padding: 12px 30px;
            border: none;
            background-color: var(--accent-color);
            color: var(--text-color);
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.2s;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 18px;
            font-weight: 500;
            text-align: center;
            width: 70%;
        }

        .os-box.active .app-button {
            display: block;
        }

        /* Image Slider */
        .slider {
            position: relative;
            max-width: 100%;
            overflow: hidden;
            border-radius: 12px;
            touch-action: pan-y;
            display: none;
        }

        .os-box.active .slider {
            display: block;
        }

        .slider-images {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: grab;
        }

        .slider-images:active {
            cursor: grabbing;
        }

        .slider-image {
            flex: 0 0 100%;
            width: 100%;
            aspect-ratio: 16 / 9;
            object-fit: cover;
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .slider-image.active {
            opacity: 1;
            transform: scale(1);
        }

        .slider-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            border: none;
            background-color: rgba(var(--surface-color-rgb, 255, 194, 155), 0.7);
            cursor: pointer;
            border-radius: 50%;
            z-index: 10;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.2s;
        }

        .slider-button svg {
            width: 24px;
            height: 24px;
            stroke: var(--text-color);
        }

        .slider-button.prev {
            left: 10px;
        }

        .slider-button.next {
            right: 10px;
        }

        .slider-counter {
            text-align: center;
            margin-top: 15px;
            font-size: 16px;
            color: var(--text-muted-color);
        }

        /* Responsive design */
        @media (max-width: 600px) {
            .nav-bar {
                flex-direction: row;
                flex-wrap: nowrap;
                gap: 2px;
                padding: 6px;
                overflow-x: auto;
                white-space: nowrap;
            }
            .nav-bar a, .nav-bar button {
                flex: 1;
                padding: 4px 6px;
                font-size: 10px;
                margin: 0 2px;
                gap: 4px;
            }
            .nav-bar svg {
                width: 14px;
                height: 14px;
            }
            .content {
                padding-top: 90px;
            }
            .os-container {
                flex-direction: column;
                gap: 15px;
            }
            .app-button {
                width: 90%;
                padding: 10px 20px;
                font-size: 16px;
            }
            .os-box {
                height: 60px; /* Adjusted for mobile */
            }
        }

    </style>
</head>
<body class="day">
    <!-- پیام آفلاین بودن -->
    <div class="offline-message">شما آفلاین هستید! اتصال خود را بررسی کنید.</div>

    <!-- نوار ناوبری -->
    <header class="nav-bar">
        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
            <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            <span>تم</span>
        </button>
        <a href="#install" data-type="install">نصب نرم‌افزار
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-3"></path><path d="M12 7v10"></path><path d="M8 12h8"></path></svg>
        </a>
        <a href="#slider" data-type="slider">آموزش تصویری
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 距離2" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><circle cx="8" cy="10" r="2"></circle><path d="M14 8l4 3-4 3V8z"></path></svg>
        </a>
        <a href="https://t.me/FLOKI333" target="_blank">کانال تلگرام ما
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 2L11 13"></path><path d="M22 2l-7 20-4-9-9-4 20-7z"></path></svg>
        </a>
        <a href="https://t.me/FLOKI333" target="_blank">پشتیبانی
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 0 0-10 10c0 5.52 4.48 10 10 10s10-4.48 10-10A10 10 0 0 0 12 2z"></path><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
        </a>
    </header>

    <!-- محتوای اصلی -->
    <main class="content">
        <!-- بخش نصب نرم‌افزار -->
        <section class="install-section">
            <h2>نصب نرم‌افزار</h2>
            <div class="os-container">
                <!-- Android Section -->
                <div class="os-box" id="android">
                    <div class="os-title">
                        <svg viewBox="0 0 24 24"><path d="M18.7,14.6c-0.2-0.5-0.5-0.9-0.8-1.3c-0.2-0.3-0.3-0.5-0.3-0.8c0-0.3,0.1-0.6,0.3-0.8c0.5-0.5,0.8-1.1,0.8-1.8 c0-0.9-0.4-1.7-1.1-2.2c-0.7-0.5-1.6-0.7-2.5-0.5c-1.2,0.3-2.3,1.1-2.9,2.2c-0.4,0.7-0.6,1.4-0.6,2.2c0,0.3,0.1,0.6,0.2,0.9 c0.2,0.4,0.1,0.9-0.2,1.2c-0.5,0.7-0.8,1.5-0.8,2.3c0,1.5,1.2,2.8,2.8,2.8c1.3,0,2.4-0.9,2.7-2.1C18.8,15,18.8,14.8,18.7,14.6z M15.1,5.2c0.2,0,0.3,0.1,0.3,0.3c0,0.2-0.1,0.3-0.3,0.3c-0.2,0-0.3-0.1-0.3-0.3C14.8,5.3,14.9,5.2,15.1,5.2z M8.9,5.2 C9.1,5.2,9.2,5.3,9.2,5.5c0,0.2-0.1,0.3-0.3,0.3c-0.2,0-0.3-0.1-0.3-0.3C8.6,5.3,8.7,5.2,8.9,5.2z"/></svg>
                        <span>اندروید</span>
                    </div>
                    <a href="https://play.google.com/store/apps/details?id=com.v2ray.ang" target="_blank" class="app-button">V2rayNG</a>
                </div>

                <!-- iPhone Section -->
                <div class="os-box" id="iphone">
                    <div class="os-title">
                        <svg viewBox="0 0 24 24"><path d="M17.2,2.8C15.6,2.7,14,3.6,13.2,4.8c-0.8-1.2-2.4-2-4-2C7,2.8,5.4,3.9,4.8,5.4c-1.8,4.2,0.2,8.6,2.7,11.2 c1.2,1.2,2.6,2.3,4.2,2.3c1.6,0,2.6-1.1,4.2-2.3c0.8-0.8,1.3-1.6,1.8-2.5c0.1-0.2,0.2-0.4,0.4-0.4c0.2,0,0.3,0.1,0.4,0.3 c0.5,1,1.2,1.9,2.1,2.6c0.5,0.4,1,0.6,1.6,0.6c0.1,0,0.2,0,0.3,0c1.1-0.2,1.9-1.2,1.7-2.3c-0.2-1.3-1.3-2.2-2.5-2.2 c-0.8,0-1.5,0.4-2,1c-0.3-1.4-0.9-2.7-1.8-3.8C19.1,8.1,17.4,5,17.2,2.8z M12,20.4c-1.3,0-2.2-0.9-3.3-1.9 C6.5,16.4,4.7,12.5,6.2,8.9C6.6,7.8,7.6,7,8.7,7c1.2,0,2.2,0.9,2.8,2.1c0.7,1.4,2,2.3,3.5,2.3c0.5,0,1-0.1,1.4-0.2 C15.8,14.6,14.1,18.4,12,20.4z"/></svg>
                        <span>آیفون</span>
                    </div>
                    <a href="https://apps.apple.com/us/app/streisand/id6450534064" target="_blank" class="app-button">Streisand</a>
                </div>

                <!-- Windows Section -->
                <div class="os-box" id="windows">
                    <div class="os-title">
                        <svg viewBox="0 0 24 24"><path d="M2,22H22V2H2V22z M10.9,11.4l-8-1.1V4h8V11.4z M10.9,12.6V20h-8l8-1.1V12.6z M12.1,11.4V4h8v6.3L12.1,11.4z M12.1,12.6l8,1.1V20h-8V12.6z"/></svg>
                        <span>ویندوز</span>
                    </div>
                    <a href="https://github.com/2dust/v2rayN/releases" target="_blank" class="app-button">V2rayN</a>
                </div>
            </div>
        </section>

        <!-- بخش آموزش تصویری -->
        <section class="tutorial-section">
            <h2>آموزش تصویری</h2>
            <div class="os-container">
                <!-- Android Slider -->
                <div class="os-box" id="android-slider">
                    <div class="os-title">
                        <svg viewBox="0 0 24 24"><path d="M18.7,14.6c-0.2-0.5-0.5-0.9-0.8-1.3c-0.2-0.3-0.3-0.5-0.3-0.8c0-0.3,0.1-0.6,0.3-0.8c0.5-0.5,0.8-1.1,0.8-1.8 c0-0.9-0.4-1.7-1.1-2.2c-0.7-0.5-1.6-0.7-2.5-0.5c-1.2,0.3-2.3,1.1-2.9,2.2c-0.4,0.7-0.6,1.4-0.6,2.2c0,0.3,0.1,0.6,0.2,0.9 c0.2,0.4,0.1,0.9-0.2,1.2c-0.5,0.7-0.8,1.5-0.8,2.3c0,1.5,1.2,2.8,2.8,2.8c1.3,0,2.4-0.9,2.7-2.1C18.8,15,18.8,14.8,18.7,14.6z M15.1,5.2c0.2,0,0.3,0.1,0.3,0.3c0,0.2-0.1,0.3-0.3,0.3c-0.2,0-0.3-0.1-0.3-0.3C14.8,5.3,14.9,5.2,15.1,5.2z M8.9,5.2 C9.1,5.2,9.2,5.3,9.2,5.5c0,0.2-0.1,0.3-0.3,0.3c-0.2,0-0.3-0.1-0.3-0.3C8.6,5.3,8.7,5.2,8.9,5.2z"/></svg>
                        <span>اندروید</span>
                    </div>
                    <div class="slider">
                        <div class="slider-images">
                            <img class="slider-image" src="https://placehold.co/600x300/F39F9F/212121?text=Android+Step+1" alt="تصویر اندروید ۱">
                            <img class="slider-image" src="https://placehold.co/600x300/FFC29B/212121?text=Android+Step+2" alt="تصویر اندروید ۲">
                            <img class="slider-image" src="https://placehold.co/600x300/FFECC0/212121?text=Android+Step+3" alt="تصویر اندروید ۳">
                            <img class="slider-image" src="https://placehold.co/600x300/B95E82/212121?text=Android+Step+4" alt="تصویر اندروید ۴">
                            <img class="slider-image" src="https://placehold.co/600x300/F39F9F/212121?text=Android+Step+5" alt="تصویر اندروید ۵">
                            <img class="slider-image" src="https://placehold.co/600x300/FFC29B/212121?text=Android+Step+6" alt="تصویر اندروید ۶">
                            <img class="slider-image" src="https://placehold.co/600x300/FFECC0/212121?text=Android+Step+7" alt="تصویر اندروید ۷">
                            <img class="slider-image" src="https://placehold.co/600x300/B95E82/212121?text=Android+Step+8" alt="تصویر اندروید ۸">
                            <img class="slider-image" src="https://placehold.co/600x300/F39F9F/212121?text=Android+Step+9" alt="تصویر اندروید ۹">
                            <img class="slider-image" src="https://placehold.co/600x300/FFC29B/212121?text=Android+Step+10" alt="تصویر اندروید ۱۰">
                        </div>
                        <button class="slider-button prev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></button>
                        <button class="slider-button next"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></button>
                        <div class="slider-counter">تصویر ۱ / ۱۰</div>
                    </div>
                </div>

                <!-- iPhone Slider -->
                <div class="os-box" id="iphone-slider">
                    <div class="os-title">
                        <svg viewBox="0 0 24 24"><path d="M17.2,2.8C15.6,2.7,14,3.6,13.2,4.8c-0.8-1.2-2.4-2-4-2C7,2.8,5.4,3.9,4.8,5.4c-1.8,4.2,0.2,8.6,2.7,11.2 c1.2,1.2,2.6,2.3,4.2,2.3c1.6,0,2.6-1.1,4.2-2.3c0.8-0.8,1.3-1.6,1.8-2.5c0.1-0.2,0.2-0.4,0.4-0.4c0.2,0,0.3,0.1,0.4,0.3 c0.5,1,1.2,1.9,2.1,2.6c0.5,0.4,1,0.6,1.6,0.6c0.1,0,0.2,0,0.3,0c1.1-0.2,1.9-1.2,1.7-2.3c-0.2-1.3-1.3-2.2-2.5-2.2 c-0.8,0-1.5,0.4-2,1c-0.3-1.4-0.9-2.7-1.8-3.8C19.1,8.1,17.4,5,17.2,2.8z M12,20.4c-1.3,0-2.2-0.9-3.3-1.9 C6.5,16.4,4.7,12.5,6.2,8.9C6.6,7.8,7.6,7,8.7,7c1.2,0,2.2,0.9,2.8,2.1c0.7,1.4,2,2.3,3.5,2.3c0.5,0,1-0.1,1.4-0.2 C15.8,14.6,14.1,18.4,12,20.4z"/></svg>
                        <span>آیفون</span>
                    </div>
                    <div class="slider">
                        <div class="slider-images">
                            <img class="slider-image" src="https://placehold.co/600x300/F39F9F/212121?text=iPhone+Step+1" alt="تصویر آیفون ۱">
                            <img class="slider-image" src="https://placehold.co/600x300/FFC29B/212121?text=iPhone+Step+2" alt="تصویر آیفون ۲">
                            <img class="slider-image" src="https://placehold.co/600x300/FFECC0/212121?text=iPhone+Step+3" alt="تصویر آیفون ۳">
                            <img class="slider-image" src="https://placehold.co/600x300/B95E82/212121?text=iPhone+Step+4" alt="تصویر آیفون ۴">
                            <img class="slider-image" src="https://placehold.co/600x300/F39F9F/212121?text=iPhone+Step+5" alt="تصویر آیفون ۵">
                            <img class="slider-image" src="https://placehold.co/600x300/FFC29B/212121?text=iPhone+Step+6" alt="تصویر آیفون ۶">
                            <img class="slider-image" src="https://placehold.co/600x300/FFECC0/212121?text=iPhone+Step+7" alt="تصویر آیفون ۷">
                            <img class="slider-image" src="https://placehold.co/600x300/B95E82/212121?text=iPhone+Step+8" alt="تصویر آیفون ۸">
                            <img class="slider-image" src="https://placehold.co/600x300/F39F9F/212121?text=iPhone+Step+9" alt="تصویر آیفون ۹">
                            <img class="slider-image" src="https://placehold.co/600x300/FFC29B/212121?text=iPhone+Step+10" alt="تصویر آیفون ۱۰">
                        </div>
                        <button class="slider-button prev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></button>
                        <button class="slider-button next"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></button>
                        <div class="slider-counter">تصویر ۱ / ۱۰</div>
                    </div>
                </div>

                <!-- Windows Slider -->
                <div class="os-box" id="windows-slider">
                    <div class="os-title">
                        <svg viewBox="0 0 24 24"><path d="M2,22H22V2H2V22z M10.9,11.4l-8-1.1V4h8V11.4z M10.9,12.6V20h-8l8-1.1V12.6z M12.1,11.4V4h8v6.3L12.1,11.4z M12.1,12.6l8,1.1V20h-8V12.6z"/></svg>
                        <span>ویندوز</span>
                    </div>
                    <div class="slider">
                        <div class="slider-images">
                            <img class="slider-image" src="https://placehold.co/600x300/F39F9F/212121?text=Windows+Step+1" alt="تصویر ویندوز ۱">
                            <img class="slider-image" src="https://placehold.co/600x300/FFC29B/212121?text=Windows+Step+2" alt="تصویر ویندوز ۲">
                            <img class="slider-image" src="https://placehold.co/600x300/FFECC0/212121?text=Windows+Step+3" alt="تصویر ویندوز ۳">
                            <img class="slider-image" src="https://placehold.co/600x300/B95E82/212121?text=Windows+Step+4" alt="تصویر ویندوز ۴">
                            <img class="slider-image" src="https://placehold.co/600x300/F39F9F/212121?text=Windows+Step+5" alt="تصویر ویندوز ۵">
                            <img class="slider-image" src="https://placehold.co/600x300/FFC29B/212121?text=Windows+Step+6" alt="تصویر ویندوز ۶">
                            <img class="slider-image" src="https://placehold.co/600x300/FFECC0/212121?text=Windows+Step+7" alt="تصویر ویندوز ۷">
                            <img class="slider-image" src="https://placehold.co/600x300/B95E82/212121?text=Windows+Step+8" alt="تصویر ویندوز ۸">
                            <img class="slider-image" src="https://placehold.co/600x300/F39F9F/212121?text=Windows+Step+9" alt="تصویر ویندوز ۹">
                            <img class="slider-image" src="https://placehold.co/600x300/FFC29B/212121?text=Windows+Step+10" alt="تصویر ویندوز ۱۰">
                        </div>
                        <button class="slider-button prev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></button>
                        <button class="slider-button next"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></button>
                        <div class="slider-counter">تصویر ۱ / ۱۰</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // --- DOM Elements ---
    const body = document.body;
    const themeToggleButton = document.getElementById('theme-toggle');
    const navLinks = document.querySelectorAll('.nav-bar a[data-type]');

    // --- Theme Management ---
    const applyTheme = (theme) => {
        body.className = theme;
        if (theme === 'night') {
            document.documentElement.style.setProperty('--surface-color-rgb', '30, 30, 30');
        } else {
            document.documentElement.style.setProperty('--surface-color-rgb', '255, 194, 155');
        }
    };

    const currentTheme = localStorage.getItem('theme') || 'day';
    applyTheme(currentTheme);

    themeToggleButton.addEventListener('click', () => {
        const newTheme = body.classList.contains('day') ? 'night' : 'day';
        applyTheme(newTheme);
        localStorage.setItem('theme', newTheme);
    });

    // --- Close Active Box on Page Click ---
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.os-box, .nav-bar, .slider-button, .app-button')) {
            document.querySelectorAll('.os-box').forEach(box => {
                box.classList.remove('active');
            });
        }
    });

    // --- Navigation Menu Interaction ---
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const type = link.dataset.type;
            document.querySelectorAll('.os-box').forEach(box => {
                box.classList.remove('active');
            });
            if (type === 'install') {
                const firstBox = document.querySelector('.install-section .os-box');
                if (firstBox) {
                    firstBox.classList.add('active');
                    firstBox.scrollIntoView({ behavior: 'smooth' });
                }
            } else if (type === 'slider') {
                const firstBox = document.querySelector('.tutorial-section .os-box');
                if (firstBox) {
                    firstBox.classList.add('active');
                    firstBox.scrollIntoView({ behavior: 'smooth' });
                }
            }
        });
    });

    // --- Install Section Toggle ---
    document.querySelectorAll('.install-section .os-box').forEach(box => {
        box.addEventListener('click', (e) => {
            if (e.target.closest('.app-button')) return;
            document.querySelectorAll('.os-box').forEach(b => {
                b.classList.remove('active');
            });
            box.classList.add('active');
            box.scrollIntoView({ behavior: 'smooth' });
        });
    });

    // --- Tutorial Section Toggle ---
    document.querySelectorAll('.tutorial-section .os-box').forEach(box => {
        box.addEventListener('click', (e) => {
            if (e.target.closest('.slider-button')) return;
            document.querySelectorAll('.os-box').forEach(b => {
                b.classList.remove('active');
            });
            box.classList.add('active');
            box.scrollIntoView({ behavior: 'smooth' });
        });
    });

    // --- Image Slider with Enhanced Animation ---
    document.querySelectorAll('.slider').forEach(slider => {
        const sliderImages = slider.querySelector('.slider-images');
        const images = slider.querySelectorAll('.slider-image');
        const prevButton = slider.querySelector('.slider-button.prev');
        const nextButton = slider.querySelector('.slider-button.next');
        const counter = slider.querySelector('.slider-counter');
        let currentIndex = 0;
        const totalImages = images.length;

        const updateSlider = () => {
            images.forEach((img, index) => {
                img.classList.remove('active');
                if (index === currentIndex) {
                    img.classList.add('active');
                }
            });
            sliderImages.style.transform = `translateX(${-currentIndex * 100}%)`;
            counter.textContent = `تصویر ${currentIndex + 1} / ${totalImages}`;
        };

        prevButton.addEventListener('click', () => {
            currentIndex = (currentIndex > 0) ? currentIndex - 1 : totalImages - 1;
            updateSlider();
        });

        nextButton.addEventListener('click', () => {
            currentIndex = (currentIndex < totalImages - 1) ? currentIndex + 1 : 0;
            updateSlider();
        });

        // Touch functionality
        let touchStartX = 0;
        let touchEndX = 0;

        sliderImages.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        sliderImages.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        const handleSwipe = () => {
            if (touchEndX < touchStartX - 50) nextButton.click(); // Swiped left
            if (touchEndX > touchStartX + 50) prevButton.click(); // Swiped right
        };

        updateSlider();
    });

    // --- PWA Service Worker Registration ---
    if ('serviceWorker' in navigator) {
        const swContent = `
            const CACHE_NAME = 'floki-cache-v1';
            const urlsToCache = [
                '/',
                'https://vazirmatn.github.io/Vazirmatn/fonts/webfonts/Vazirmatn.css'
            ];
            self.addEventListener('install', event => {
                event.waitUntil(
                    caches.open(CACHE_NAME).then(cache => cache.addAll(urlsToCache))
                );
            });
            self.addEventListener('fetch', event => {
                event.respondWith(
                    caches.match(event.request).then(response => {
                        return response || fetch(event.request);
                    })
                );
            });
        `;
        const blob = new Blob([swContent], { type: 'application/javascript' });
        const swUrl = URL.createObjectURL(blob);
        navigator.serviceWorker.register(swUrl).then(reg => {
            console.log('Service Worker registered successfully.');
        }).catch(err => {
            console.error('Service Worker registration failed:', err);
        });
    }

    // --- Offline/Online Status ---
    const handleConnectionChange = () => {
        if (navigator.onLine) {
            body.classList.remove('offline');
        } else {
            body.classList.add('offline');
        }
    };
    window.addEventListener('online', handleConnectionChange);
    window.addEventListener('offline', handleConnectionChange);
    handleConnectionChange();

});
</script>

</body>
</html>
